# ========================================
# HonyRun WebFlux响应式系统主配置文件
# @author: Mr.Rey Copyright © 2025
# @created: 2025-06-28 16:57:03
# @modified: 2025-01-13 15:55:00
# @version: 1.0.3 - 32G高性能环境优化版本
# ========================================

# ========================================
# 应用基础配置
# ========================================
spring.application.name=${HONYRUN_APP_NAME:honyrun-reactive}
# [端口策略-严禁修改] 应用端口固定为8901；范围8901-8910；
server.port=${HONYRUN_SERVER_PORT:8901}
# 禁止在配置、代码、命令行或环境变量中修改端口；如需临时测试请用反向代理或端口转发

# 配置文件组 - 使用spring.profiles.group替代已弃用的spring.profiles.include
spring.profiles.group.default=bean-optimization,log-archive

# ========================================
# Banner配置 - 禁止开启！
# ========================================
spring.main.banner-mode=off

# ========================================
# Bean优化基础配置
# ========================================
# 全局懒加载关闭，使用选择性懒加载
spring.main.lazy-initialization=${HONYRUN_SPRING_LAZY_INITIALIZATION:false}
spring.main.allow-bean-definition-overriding=${HONYRUN_SPRING_ALLOW_BEAN_OVERRIDE:false}
spring.main.allow-circular-references=${HONYRUN_SPRING_ALLOW_CIRCULAR_REFERENCES:false}

# 启动优化
spring.jmx.enabled=${HONYRUN_SPRING_JMX_ENABLED:false}

# Bean优化开关
honyrun.bean.optimization.enabled=true
honyrun.bean.lazy-loading.enabled=true
honyrun.bean.performance-monitoring.enabled=true
honyrun.bean.validation.enabled=true

# ========================================
# WebFlux响应式配置
# ========================================
# Netty服务器配置
# 连接超时时间（毫秒）- 客户端建立连接的最大等待时间
server.netty.connection-timeout=${HONYRUN_SERVER_CONNECTION_TIMEOUT:20000}
# 空闲超时时间（毫秒）- 连接空闲多长时间后关闭
server.netty.idle-timeout=${HONYRUN_SERVER_IDLE_TIMEOUT:60000}

# 响应式背压配置 - 统一安全限制
# 多部分请求内存限制 - 防止大文件上传导致内存溢出
spring.webflux.multipart.max-in-memory-size=${HONYRUN_WEBFLUX_MULTIPART_MAX_IN_MEMORY_SIZE:1MB}
# 单个部分最大磁盘使用量 - 限制单个文件部分的磁盘占用
spring.webflux.multipart.max-disk-usage-per-part=${HONYRUN_WEBFLUX_MULTIPART_MAX_DISK_USAGE_PER_PART:10MB}
# 多部分请求最大部分数量 - 防止恶意请求发送过多部分
spring.webflux.multipart.max-parts=${HONYRUN_WEBFLUX_MULTIPART_MAX_PARTS:128}
# 多部分请求最大头部大小 - 限制请求头部大小
spring.webflux.multipart.max-headers-size=${HONYRUN_WEBFLUX_MULTIPART_MAX_HEADERS_SIZE:10KB}

# WebFlux默认编解码内存限制（建议由CodecCustomizer与属性共同控制）
spring.codec.max-in-memory-size=${HONYRUN_WEBFLUX_CODEC_MAX_IN_MEMORY_SIZE:2MB}

# ========================================
# 响应式背压策略配置
# ========================================
# 背压配置
honyrun.reactive.backpressure.buffer-size=256
honyrun.reactive.backpressure.strategy=BUFFER
honyrun.reactive.backpressure.enabled=true

# 缓冲区配置
honyrun.reactive.buffer.default-size=1024
honyrun.reactive.buffer.max-size=8192
honyrun.reactive.buffer.prefetch=32
honyrun.reactive.buffer.enabled=true

# 超时配置
honyrun.reactive.timeout.default-timeout=30s
honyrun.reactive.timeout.connection-timeout=10s
honyrun.reactive.timeout.read-timeout=60s
honyrun.reactive.timeout.write-timeout=60s

# 线程池配置
honyrun.reactive.thread-pool.core-size=8
honyrun.reactive.thread-pool.max-size=32
honyrun.reactive.thread-pool.queue-capacity=1000
honyrun.reactive.thread-pool.thread-name-prefix=honyrun-reactive-

# ========================================
# 日志配置
# ========================================
# 日志级别配置
logging.level.com.honyrun=${HONYRUN_LOGGING_LEVEL_HONYRUN:INFO}
logging.level.org.springframework.r2dbc=${HONYRUN_LOGGING_LEVEL_R2DBC:DEBUG}
logging.level.org.springframework.data.r2dbc=${HONYRUN_LOGGING_LEVEL_R2DBC_DATA:DEBUG}
logging.level.org.springframework.security=${HONYRUN_LOGGING_LEVEL_SECURITY:DEBUG}
logging.level.org.springframework.web.reactive=${HONYRUN_LOGGING_LEVEL_WEBFLUX:DEBUG}
logging.level.reactor.netty=${HONYRUN_LOGGING_LEVEL_NETTY:DEBUG}
logging.level.io.r2dbc.pool=${HONYRUN_LOGGING_LEVEL_R2DBC_POOL:DEBUG}

# 日志文件配置
logging.file.path=${HONYRUN_LOGGING_FILE_PATH:backend/logs}
logging.file.name=${HONYRUN_LOGGING_FILE_NAME:honyrun-reactive.log}
logging.logback.rollingpolicy.max-file-size=${HONYRUN_LOGGING_MAX_FILE_SIZE:10MB}
logging.logback.rollingpolicy.max-history=${HONYRUN_LOGGING_MAX_HISTORY:30}
logging.logback.rollingpolicy.total-size-cap=${HONYRUN_LOGGING_TOTAL_SIZE_CAP:1GB}

# ========================================
# 编码配置
# ========================================
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# ========================================
# Jackson JSON配置
# ========================================
# 时间格式配置
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=GMT+8
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.serialization.write-durations-as-timestamps=false
spring.jackson.deserialization.fail-on-unknown-properties=false

# ========================================
# R2DBC数据库配置
# ========================================
# 数据库配置 - 统一使用MySQL
# [端口策略-严禁修改] MySQL端口固定为8906；参见 .trae/rules/project_rules.md 第31条
# 使用localhost，由Netty统一处理主机名解析
spring.r2dbc.url=r2dbc:mysql://localhost:8906/honyrundb?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=Asia/Shanghai
spring.r2dbc.username=honyrunMysql
spring.r2dbc.password=honyrun@sys

# R2DBC连接池配置
spring.r2dbc.pool.initial-size=10
spring.r2dbc.pool.max-size=20
spring.r2dbc.pool.max-idle-time=PT30M
spring.r2dbc.pool.validation-query=SELECT 1

# ========================================
# Redis响应式配置
# ========================================
# Redis连接配置 - 使用localhost，由Netty统一处理主机名解析
spring.data.redis.host=localhost
# [端口策略-严禁修改] Redis端口固定为8902；参见 .trae/rules/project_rules.md 第31条
spring.data.redis.port=8902
spring.data.redis.database=0
spring.data.redis.password=honyrun@sys
spring.data.redis.timeout=10000

# Lettuce连接池配置 - 优化连接池设置以减少连接中断
spring.data.redis.lettuce.pool.max-active=20
spring.data.redis.lettuce.pool.max-idle=10
spring.data.redis.lettuce.pool.min-idle=2
spring.data.redis.lettuce.pool.max-wait=10000

# ========================================
# Redis Repository配置 - 禁用自动扫描
# ========================================
# 禁用Spring Data Redis Repository自动配置和扫描
spring.data.redis.repositories.enabled=false

# ========================================
# 安全配置
# ========================================
# JWT配置 - 通用配置（已整合到各环境配置文件中）
# ========================================
# 注意：JWT配置已整合到各环境配置文件中（application-dev.properties、application-prod.properties、application-test.properties）
# 按照项目规范要求，删除独立JWT配置文件，整合到各环境配置文件中
# 此处不再重复配置JWT相关参数，避免配置冲突和维护困难
# 各环境配置文件中的JWT配置使用honyrun.jwt.*前缀，符合JwtProperties类的@ConfigurationProperties规范

# 统一安全检测配置（标准化配置前缀）
honyrun.security.detection.enabled=true
honyrun.security.detection.patterns=<script,</script,javascript:,onerror=,onload=,union select,select * from,drop table,or 1=1,--,/*,*/,;--
# 引号的最大阈值（默认500）
honyrun.security.detection.max-quotes-threshold=800

# ========================================
# 监控配置
# ========================================
# Actuator端点配置
management.endpoints.web.exposure.include=health,info,metrics,prometheus,beans
management.endpoint.health.show-details=when-authorized
management.endpoint.info.enabled=true
management.endpoint.metrics.enabled=true
management.endpoint.prometheus.enabled=true

# 健康检查配置
management.health.redis.enabled=false
management.health.r2dbc.enabled=true

# 数据库初始化配置
spring.sql.init.mode=never

# ========================================
# 国际化配置
# ========================================
spring.messages.basename=messages
spring.messages.encoding=UTF-8
spring.messages.cache-duration=3600

# ========================================
# 版本管理配置
# ========================================
app.version=2.0.0
app.build-version=${BUILD_VERSION:20250127001}
app.build-time=${BUILD_TIME:2025-07-01T00:00:00Z}

# ========================================
# 系统配置
# ========================================
# 系统用户配置 - 生产环境必须使用环境变量
system.user.username=${SYSTEM_USER_USERNAME:honyrun-sys}
system.user.password=${SYSTEM_USER_PASSWORD:honyrun@sys}
system.sys.username=${SYSTEM_SYS_USERNAME:honyrunsys2}
system.sys.password=${SYSTEM_SYS_PASSWORD:honyrun@sys}

# 普通用户配置 - 生产环境必须使用环境变量
system.user1.username=${SYSTEM_USER1_USERNAME:user1}
system.user1.password=${SYSTEM_USER1_PASSWORD:honyrun@sys}
system.user2.username=${SYSTEM_USER2_USERNAME:user2}
system.user2.password=${SYSTEM_USER2_PASSWORD:honyrun@sys}

# 请求签名验证配置
security.request.signature.enabled=${SECURITY_REQUEST_SIGNATURE_ENABLED:false}
security.request.signature.validity_period=${SECURITY_REQUEST_SIGNATURE_VALIDITY_PERIOD:300}
security.default.client.secret=${SECURITY_DEFAULT_CLIENT_SECRET:honyrun-default-client-secret-for-development}
security.client.honyrun-web.secret=${SECURITY_CLIENT_HONYRUN_WEB_SECRET:honyrun-web-client-secret-for-development}
security.client.honyrun-mobile.secret=${SECURITY_CLIENT_HONYRUN_MOBILE_SECRET:honyrun-mobile-client-secret-for-development}

# ========================================
# 响应式性能配置
# ========================================
# 背压配置
reactor.bufferSize.small=256
reactor.bufferSize.default=1024
reactor.bufferSize.large=4096

# 调度器配置
reactor.schedulers.parallel.size=${PARALLEL_SCHEDULER_SIZE:4}
reactor.schedulers.elastic.ttl=60000

# ========================================
# 服务器压缩配置
# ========================================
# 启用HTTP响应压缩
server.compression.enabled=true
# 压缩MIME类型
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/x-javascript
# 压缩阈值（字节）- 只有响应体大于此值才会压缩
server.compression.min-response-size=1024
# 排除的用户代理（不进行压缩的客户端）
server.compression.excluded-user-agents=

# ========================================
# 统一安全输入限制配置
# ========================================
# 请求相关限制
honyrun.security.input-limits.request.max-request-size=10485760
honyrun.security.input-limits.request.max-query-params=50
honyrun.security.input-limits.request.max-param-length=1000
honyrun.security.input-limits.request.max-path-length=2000
honyrun.security.input-limits.request.max-path-segment-length=100
honyrun.security.input-limits.request.max-body-scan-size=1048576

# 认证相关限制
honyrun.security.input-limits.auth.max-token-length=2048
honyrun.security.input-limits.auth.min-username-length=3
honyrun.security.input-limits.auth.max-username-length=50
honyrun.security.input-limits.auth.min-password-length=6
honyrun.security.input-limits.auth.max-password-length=100
honyrun.security.input-limits.auth.max-subject-length=255
honyrun.security.input-limits.auth.max-device-id-length=100

# 文件上传相关限制
honyrun.security.input-limits.file.max-file-size=10485760
honyrun.security.input-limits.file.max-in-memory-size=1048576
honyrun.security.input-limits.file.max-disk-usage-per-part=10485760
honyrun.security.input-limits.file.max-parts=128
honyrun.security.input-limits.file.max-filename-length=255
honyrun.security.input-limits.file.max-extension-length=10

# HTTP相关限制
honyrun.security.input-limits.http.max-headers-size=16384
honyrun.security.input-limits.http.max-header-length=8192
honyrun.security.input-limits.http.max-cookie-size=4096
honyrun.security.input-limits.http.max-single-cookie-length=1024
honyrun.security.input-limits.http.max-user-agent-length=512
honyrun.security.input-limits.http.max-referer-length=2048

# 内容相关限制
honyrun.security.input-limits.content.max-json-depth=10
honyrun.security.input-limits.content.max-json-array-size=1000
honyrun.security.input-limits.content.max-json-object-properties=100
honyrun.security.input-limits.content.max-string-field-length=10000
honyrun.security.input-limits.content.max-text-content-length=100000

# ========================================
# Actuator监控端点配置
# ========================================
# 启用所有actuator端点
management.endpoints.enabled-by-default=true
# Web端点暴露配置 - 开发环境暴露所有端点
management.endpoints.web.exposure.include=*
# 端点基础路径
management.endpoints.web.base-path=/actuator
# 健康检查详细信息
management.endpoint.health.show-details=always
management.endpoint.health.show-components=always
# 启用info端点
management.endpoint.info.enabled=true
# 启用metrics端点
management.endpoint.metrics.enabled=true
# 启用环境端点
management.endpoint.env.enabled=true
# 启用配置属性端点
management.endpoint.configprops.enabled=true

# ========================================
# 开发工具配置
# ========================================
spring.devtools.restart.enabled=false
spring.devtools.livereload.enabled=false

# ========================================
# 路径配置 - 所有路径计算都以backend目录为基准
# 这些配置可以通过UnifiedConfigManager统一管理
# 支持环境变量覆盖，格式：HONYRUN_PATH_<KEY>，如：HONYRUN_PATH_SRC_BASE
# ========================================

# src目录相对路径（所有路径计算的基准点）
honyrun.path.src-base=${HONYRUN_PATH_SRC_BASE:src}

# 日志目录
honyrun.path.logs-dir=${HONYRUN_PATH_LOGS_DIR:logs}

# 临时文件目录
honyrun.path.temp-dir=${HONYRUN_PATH_TEMP_DIR:target/temp}

# 监控数据目录
honyrun.path.monitoring-dir=${HONYRUN_PATH_MONITORING_DIR:target/monitoring}

# 报告输出目录
honyrun.path.reports-dir=${HONYRUN_PATH_REPORTS_DIR:target/reports}

# 资源文件目录
honyrun.path.resources-dir=${HONYRUN_PATH_RESOURCES_DIR:src/main/resources}

# 测试资源目录
honyrun.path.test-resources-dir=${HONYRUN_PATH_TEST_RESOURCES_DIR:src/test/resources}

# 编译输出目录
honyrun.path.classes-dir=${HONYRUN_PATH_CLASSES_DIR:target/classes}

# 测试编译输出目录
honyrun.path.test-classes-dir=${HONYRUN_PATH_TEST_CLASSES_DIR:target/test-classes}

# ========================================
# 监控服务配置
# ========================================
# 系统监控配置
honyrun.monitoring.system.fixed-rate=${HONYRUN_MONITORING_SYSTEM_FIXED_RATE:30000}
honyrun.monitoring.system.uptime-key=${HONYRUN_MONITORING_SYSTEM_UPTIME_KEY:uptime}
honyrun.monitoring.system.error-key=${HONYRUN_MONITORING_SYSTEM_ERROR_KEY:error}
honyrun.monitoring.system.timestamp-key=${HONYRUN_MONITORING_SYSTEM_TIMESTAMP_KEY:timestamp}

# 事务监控配置
honyrun.monitoring.transaction.before-commit-phase=${HONYRUN_MONITORING_TRANSACTION_BEFORE_COMMIT_PHASE:BEFORE_COMMIT}
honyrun.monitoring.transaction.success-status=${HONYRUN_MONITORING_TRANSACTION_SUCCESS_STATUS:SUCCESS}
honyrun.monitoring.transaction.failed-status=${HONYRUN_MONITORING_TRANSACTION_FAILED_STATUS:FAILED}
honyrun.monitoring.transaction.total-key=${HONYRUN_MONITORING_TRANSACTION_TOTAL_KEY:totalTransactions}
honyrun.monitoring.transaction.success-key=${HONYRUN_MONITORING_TRANSACTION_SUCCESS_KEY:successTransactions}
honyrun.monitoring.transaction.default-value=${HONYRUN_MONITORING_TRANSACTION_DEFAULT_VALUE:0}
honyrun.monitoring.transaction.unknown-value=${HONYRUN_MONITORING_TRANSACTION_UNKNOWN_VALUE:unknown}

# 背压控制配置
honyrun.monitoring.backpressure.alert-types=${HONYRUN_MONITORING_BACKPRESSURE_ALERT_TYPES:BACKPRESSURE_CONTROL,TIMEOUT,ERROR,RATE_LIMIT,REJECTED,BACKPRESSURE_CONFIG,ADJUSTMENT_REQUIRED,TIMEOUT_ADJUSTMENT,RATE_LIMIT_CONFIG,PARAMETER_ADJUSTMENT,BACKPRESSURE_BUFFER,OVERFLOW}
honyrun.monitoring.backpressure.elapsed-millis=${HONYRUN_MONITORING_BACKPRESSURE_ELAPSED_MILLIS:1000}

# 动态调度配置
honyrun.monitoring.scheduling.task-statuses=${HONYRUN_MONITORING_SCHEDULING_TASK_STATUSES:IDLE,DISABLED,RUNNING,ERROR}
honyrun.monitoring.scheduling.health-keys=${HONYRUN_MONITORING_SCHEDULING_HEALTH_KEYS:task_error_rate,thread_pool}
honyrun.monitoring.scheduling.health-thresholds=${HONYRUN_MONITORING_SCHEDULING_HEALTH_THRESHOLDS:100,30,15,20,10,80,60}
honyrun.monitoring.scheduling.cleanup-duration=${HONYRUN_MONITORING_SCHEDULING_CLEANUP_DURATION:P30D}
honyrun.monitoring.scheduling.check-interval=${HONYRUN_MONITORING_SCHEDULING_CHECK_INTERVAL:PT5M}
honyrun.monitoring.scheduling.adjustment-interval=${HONYRUN_MONITORING_SCHEDULING_ADJUSTMENT_INTERVAL:PT2M}

# 预热指标配置
honyrun.monitoring.preheating.tag-types=${HONYRUN_MONITORING_PREHEATING_TAG_TYPES:total,success,failure}
honyrun.monitoring.preheating.stats-keys=${HONYRUN_MONITORING_PREHEATING_STATS_KEYS:totalExecutions,successfulExecutions,failedExecutions,successRate,effectivenessScore,activePreheatingTasks,preheatingStats,lastPreheatingTimes}

# 指标聚合配置
honyrun.monitoring.metrics.redis-prefix=${HONYRUN_MONITORING_METRICS_REDIS_PREFIX:metrics:aggregation:}
honyrun.monitoring.metrics.data-prefix=${HONYRUN_MONITORING_METRICS_DATA_PREFIX:metrics:aggregation:data:}
honyrun.monitoring.metrics.data-keys=${HONYRUN_MONITORING_METRICS_DATA_KEYS:value,timestamp,tags}
honyrun.monitoring.metrics.tag-types=${HONYRUN_MONITORING_METRICS_TAG_TYPES:performance,system,monitor}
honyrun.monitoring.metrics.trend-values=${HONYRUN_MONITORING_METRICS_TREND_VALUES:STABLE,INCREASING,DECREASING,HIGH,MEDIUM,LOW}
honyrun.monitoring.metrics.anomaly-types=${HONYRUN_MONITORING_METRICS_ANOMALY_TYPES:SPIKE,DROP}
honyrun.monitoring.metrics.summary-keys=${HONYRUN_MONITORING_METRICS_SUMMARY_KEYS:totalMetricsCollected,totalAggregationsPerformed,activeMetrics,reportGeneratedAt}
honyrun.monitoring.metrics.report-types=${HONYRUN_MONITORING_METRICS_REPORT_TYPES:PERFORMANCE,ALERT}
honyrun.monitoring.metrics.format-types=${HONYRUN_MONITORING_METRICS_FORMAT_TYPES:JSON,CSV}
honyrun.monitoring.metrics.metadata-fields=${HONYRUN_MONITORING_METRICS_METADATA_FIELDS:系统监控指标,count,GAUGE}
honyrun.monitoring.metrics.aggregation-types=${HONYRUN_MONITORING_METRICS_AGGREGATION_TYPES:AVG,AVERAGE,MAX,MAXIMUM,MIN,MINIMUM,SUM,COUNT}
honyrun.monitoring.metrics.threshold-values=${HONYRUN_MONITORING_METRICS_THRESHOLD_VALUES:0.1,-0.1,0.8,0.5,3.0,2.0}

# 应用健康检查配置
honyrun.monitoring.health.redis-keys=${HONYRUN_MONITORING_HEALTH_REDIS_KEYS:database,redis,application}
honyrun.monitoring.health.error-keys=${HONYRUN_MONITORING_HEALTH_ERROR_KEYS:error,timestamp}
honyrun.monitoring.health.timeout-durations=${HONYRUN_MONITORING_HEALTH_TIMEOUT_DURATIONS:PT8S,PT10S,PT12S}
honyrun.monitoring.health.fixed-rate=${HONYRUN_MONITORING_HEALTH_FIXED_RATE:60000}
honyrun.monitoring.health.status-values=${HONYRUN_MONITORING_HEALTH_STATUS_VALUES:UP,DOWN}

# 告警服务配置
honyrun.monitoring.alert.redis-keys=${HONYRUN_MONITORING_ALERT_REDIS_KEYS:monitoring:alert:rules,monitoring:alert:events,monitoring:alert:suppressions,monitoring:alert:statistics}
honyrun.monitoring.alert.max-history-size=${HONYRUN_MONITORING_ALERT_MAX_HISTORY_SIZE:1000}
honyrun.monitoring.alert.manual-rule-id=${HONYRUN_MONITORING_ALERT_MANUAL_RULE_ID:MANUAL}
honyrun.monitoring.alert.severity-counts=${HONYRUN_MONITORING_ALERT_SEVERITY_COUNTS:0,0,0,0,0,0}
honyrun.monitoring.alert.system-resolution=${HONYRUN_MONITORING_ALERT_SYSTEM_RESOLUTION:SYSTEM}
honyrun.monitoring.alert.notifier-type=${HONYRUN_MONITORING_ALERT_NOTIFIER_TYPE:LogNotifier}

# 性能监控配置
honyrun.monitoring.performance.metric-suffixes=${HONYRUN_MONITORING_PERFORMANCE_METRIC_SUFFIXES:_execution_time,ms,api_response_time,db_query_time}
honyrun.monitoring.performance.status-codes=${HONYRUN_MONITORING_PERFORMANCE_STATUS_CODES:400}
honyrun.monitoring.performance.stats-keys=${HONYRUN_MONITORING_PERFORMANCE_STATS_KEYS:count,totalTime,averageTime,methodStats,apiStats}
honyrun.monitoring.performance.threshold-keys=${HONYRUN_MONITORING_PERFORMANCE_THRESHOLD_KEYS:cpu_usage,memory_usage,response_time,db_query_time}
honyrun.monitoring.performance.threshold-values=${HONYRUN_MONITORING_PERFORMANCE_THRESHOLD_VALUES:80.0,85.0,1000.0,500.0}
honyrun.monitoring.performance.alert-enabled=${HONYRUN_MONITORING_PERFORMANCE_ALERT_ENABLED:true}
honyrun.monitoring.performance.default-value=${HONYRUN_MONITORING_PERFORMANCE_DEFAULT_VALUE:0.0}
honyrun.monitoring.performance.connection-pool-size=${HONYRUN_MONITORING_PERFORMANCE_CONNECTION_POOL_SIZE:20}
honyrun.monitoring.performance.loop-limit=${HONYRUN_MONITORING_PERFORMANCE_LOOP_LIMIT:5}
honyrun.monitoring.performance.alert-prefix=${HONYRUN_MONITORING_PERFORMANCE_ALERT_PREFIX:ALERT_}
honyrun.monitoring.performance.metric-types=${HONYRUN_MONITORING_PERFORMANCE_METRIC_TYPES:cpu_usage,memory_usage,disk_usage,network_usage,thread_count,error_rate,active_connections,idle_connections,cache_hit_rate}

# 可视化配置
honyrun.monitoring.visualization.redis-prefix=${HONYRUN_MONITORING_VISUALIZATION_REDIS_PREFIX:monitoring:chart:config:}
honyrun.monitoring.visualization.timeout-duration=${HONYRUN_MONITORING_VISUALIZATION_TIMEOUT_DURATION:PT5S}
honyrun.monitoring.visualization.chart-titles=${HONYRUN_MONITORING_VISUALIZATION_CHART_TITLES:CPU使用率趋势,%,内存使用率趋势,响应时间趋势,ms,请求量趋势,次/分钟,错误率趋势,告警数量,告警统计,告警趋势,堆内存使用,非堆内存使用,GC时间,JVM性能监控,连接数,查询响应时间,事务数,数据库性能监控,命中率,缓存性能监控,JVM Heap Usage,Thread Count,Load Average}
honyrun.monitoring.visualization.chart-types=${HONYRUN_MONITORING_VISUALIZATION_CHART_TYPES:bar,line}
honyrun.monitoring.visualization.colors=${HONYRUN_MONITORING_VISUALIZATION_COLORS:#FF6B6B,#4ECDC4,#FFD93D,#6BCF7F}
honyrun.monitoring.visualization.health-statuses=${HONYRUN_MONITORING_VISUALIZATION_HEALTH_STATUSES:CRITICAL,WARNING,HEALTHY}

# ========================================
# Redis键名配置
# ========================================
# 通用Redis键前缀
honyrun.redis.keys.monitoring-prefix=${HONYRUN_REDIS_KEYS_MONITORING_PREFIX:monitoring:}
honyrun.redis.keys.metrics-prefix=${HONYRUN_REDIS_KEYS_METRICS_PREFIX:metrics:}
honyrun.redis.keys.alert-prefix=${HONYRUN_REDIS_KEYS_ALERT_PREFIX:alert:}
honyrun.redis.keys.cache-prefix=${HONYRUN_REDIS_KEYS_CACHE_PREFIX:cache:}

# ========================================
# 数值常量配置
# ========================================
# 缓冲区和批次大小
honyrun.constants.buffer-sizes=${HONYRUN_CONSTANTS_BUFFER_SIZES:256,32,1024,8192}
honyrun.constants.batch-sizes=${HONYRUN_CONSTANTS_BATCH_SIZES:100,500,1000}
honyrun.constants.retry-counts=${HONYRUN_CONSTANTS_RETRY_COUNTS:3,5,10}
honyrun.constants.timeout-seconds=${HONYRUN_CONSTANTS_TIMEOUT_SECONDS:10,30,60,90}
honyrun.constants.timeout-millis=${HONYRUN_CONSTANTS_TIMEOUT_MILLIS:1000,5000,10000}

# 图像处理配置
honyrun.image.max-dimensions=${HONYRUN_IMAGE_MAX_DIMENSIONS:2500,400,500}
honyrun.image.formats=${HONYRUN_IMAGE_FORMATS:jpeg,jpg,png,gif,bmp,webp}
honyrun.image.forbidden-extensions=${HONYRUN_IMAGE_FORBIDDEN_EXTENSIONS:exe,bat}

# 系统监控配置
honyrun.system.disk-conversion-factor=${HONYRUN_SYSTEM_DISK_CONVERSION_FACTOR:1024}
honyrun.system.load-average-multiplier=${HONYRUN_SYSTEM_LOAD_AVERAGE_MULTIPLIER:100.0}
honyrun.system.default-load-average=${HONYRUN_SYSTEM_DEFAULT_LOAD_AVERAGE:-1}

# 安全检测配置
honyrun.security.script-patterns=${HONYRUN_SECURITY_SCRIPT_PATTERNS:script,javascript,vbscript}
honyrun.security.max-image-dimensions=${HONYRUN_SECURITY_MAX_IMAGE_DIMENSIONS:2500}
honyrun.security.error-status-codes=${HONYRUN_SECURITY_ERROR_STATUS_CODES:400,500}
